<?xml version="1.0" encoding="GBK"?>

<!DOCTYPE struts  PUBLIC 
"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
"http://struts.apache.org/dtds/struts-2.3.dtd" >


<struts>
   

    <include file="struts-part1.xml"/>
	
    <constant name="struts.devMode" value="true"/>
    
    <constant name="struts.ognl.allowStaticMethodAccess" value="true"/>
    
    <package name="scuthnweb"  extends="json-default"  namespace="/">
       <!-- userAdModule -->
       <action name="Register" class="RegisterAction">
	      <result name="error" type="redirect">pfs?p=register/register.jsp</result>
	      <result name="success" type="redirect">pfs?p=homepage/homepage.jsp</result>
       </action>
       <action name="Login" class="LoginAction">
	      <result name="error" type="redirect">pfs?p=login/login.jsp</result>
	      <result name="success" type="redirect">pfs?p=homepage/homepage.jsp</result>
       </action>
       <action name="LoginOut" class="LoginOutAction">
	      <result name="error" type="redirect">pfs?p=homepage/homepage.jsp</result>
	      <result name="success" type="redirect">pfs?p=homepage/homepage.jsp</result>
       </action>
       <action name="ActivateUser" class="ActivateUserAction">
	      <result name="error" type="redirect">pfs?p=homepage/homepage.jsp</result>
	      <result name="success" type="redirect">pfs?p=homepage/homepage.jsp</result>
       </action>
       <action name="CheckUserInfo" class="CheckUserInfoAction">
	      <result name="error" type="redirect">pfs?p=login/login.jsp</result>
	      <result name="success">/WEB-INF/jsp/UserManage/UserManage.jsp</result>
       </action>
       <action name="CheckUserInfoForModify" class="CheckUserInfoForModifyAction">
	      <result name="error" type="redirect">pfs?p=login/login.jsp</result>
	      <result name="success">/WEB-INF/jsp/UserManage/modifyInfo.jsp</result>
       </action>
       <action name="ModifyUserInfo" class="ModifyUserInfoAction">
       	  <result name="error">/WEB-INF/jsp/UserManage/modifyInfo.jsp</result>
	      <result name="NO_LOGIN" type="redirect">pfs?p=login/login.jsp</result>
	      <result name="success" type="redirectAction">CheckUserInfo</result>
       </action>
              
       <!-- end -->
       
<!-- WEB-INF下界面转发Action -->
       <action name="pfs" class="pfs">
	      <result name="/WEB-INF/jsp/homepage/homepage.jsp">/WEB-INF/jsp/homepage/homepage.jsp</result>
	      <result name="/WEB-INF/jsp/register/register.jsp">/WEB-INF/jsp/register/register.jsp</result>
	      <result name="/WEB-INF/jsp/login/login.jsp">/WEB-INF/jsp/login/login.jsp</result>
	      <result name="/WEB-INF/jsp/ActionHomePage/actionHomePage.jsp">/WEB-INF/jsp/ActionHomePage/actionHomePage.jsp</result>
       </action>
       
       <action name="AcceptImage" class="AcceptImageAction">
      	<result name="success" type="json">
		 	<param name="includeProperties">
			 	^succ
		 	</param>
	  	</result>
	  	<result name="error" type="json">
		 	<param name="includeProperties">
			 	^succ
		 	</param>
	  	</result>
       </action>
    </package>
   
</struts>
