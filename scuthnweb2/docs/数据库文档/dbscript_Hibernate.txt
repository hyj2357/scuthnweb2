alter table action drop foreign key FKAB2F7E36C5C5C60B;
alter table action_join_info drop foreign key FK3E7097DAAED7DEB6;
alter table action_pic drop foreign key FK6E665401AED7DEB6;
alter table action_summary drop foreign key FK1F17369DAA469736;
alter table action_summary drop foreign key FK1F17369DAED7DEB6;
alter table action_summary drop foreign key FK1F17369D7113E39F;
alter table album drop foreign key FK5897E6FC5C5C60B;
alter table album_pic drop foreign key FKEE38FBA3F8F7F1E;
alter table message drop foreign key FK38EB00078CEABCCE;
alter table message drop foreign key FK38EB000772A54714;
alter table new drop foreign key FK1A9A092ED922C;
alter table new_pic drop foreign key FK6E00BA6BE2D067E;
alter table note drop foreign key FK33AFF292ED922C;
alter table role drop foreign key FK35807676A48B1E;
alter table share_link drop foreign key FK956A2C5A92ED922C;
alter table sy_user drop foreign key FK9758A60476A48B1E;
alter table sy_user_pic drop foreign key FK4EFAE4CF76A48B1E;


drop table if exists account;
drop table if exists action;
drop table if exists action_join_info;
drop table if exists action_pic;
drop table if exists action_summary;
drop table if exists album;
drop table if exists album_pic;
drop table if exists message;
drop table if exists new;
drop table if exists new_pic;
drop table if exists note;
drop table if exists role;
drop table if exists share_link;
drop table if exists sy_user;
drop table if exists sy_user_pic;


create table account (account varchar(255) not null, register_time datetime, primary key (account));
create table action (id integer not null auto_increment, action_name datetime, introduction text, obj_status bit, creator_account varchar(255), primary key (id));
create table action_join_info (id integer not null auto_increment, join_time datetime, end_join_time datetime, start_time datetime, end_time datetime, action_id integer, primary key (id));
create table action_pic (id integer not null auto_increment, url text, action_id integer, primary key (id));
create table action_summary (id integer not null auto_increment, join_user_account varchar(255), action_id integer, poster_account  varchar(255), primary key (id));
create table album (id integer not null auto_increment, album_name varchar(255), introduction text, add_time datetime, creator_account varchar(255), primary key (id));
create table album_pic (id integer not null auto_increment, url text, album_id integer, primary key (id));
create table message (id integer not null auto_increment, title varchar(255), content text, _read integer, sender_account varchar(255), receiver_account varchar(255), primary key (id));
create table new (id integer not null auto_increment, title varchar(255), content text, add_time datetime, obj_status bit, poster_account varchar(255), primary key (id));
create table new_pic (id integer not null auto_increment, url text, new_id integer, primary key (id));
create table note (id integer not null auto_increment, content text, add_time datetime, poster_account varchar(255), primary key (id));
create table role (id integer not null auto_increment, role_name varchar(255), authority bit, account varchar(255), primary key (id));
create table share_link (id integer not null auto_increment, link_name varchar(255), link text, add_time datetime, poster_account varchar(255), primary key (id));
create table sy_user (id integer not null auto_increment, user_name varchar(255), gender varchar(255), major varchar(255), grade varchar(255), phone_number varchar(255), qq_number varchar(255), wechat_number varchar(255), account varchar(255), primary key (id));
create table sy_user_pic (id integer not null auto_increment, url text, account varchar(255), primary key (id));

alter table action add index FKAB2F7E36C5C5C60B (creator_account), add constraint FKAB2F7E36C5C5C60B foreign key (creator_account) references account (account);

alter table action_join_info add index FK3E7097DAAED7DEB6 (action_id), add constraint FK3E7097DAAED7DEB6 foreign key (action_id) references action (id);

alter table action_pic add index FK6E665401AED7DEB6 (action_id), add constraint FK6E665401AED7DEB6 foreign key (action_id) references action (id);

alter table action_summary add index FK1F17369DAA469736 (poster_account ), add constraint FK1F17369DAA469736 foreign key (poster_account ) references account (account);

alter table action_summary add index FK1F17369DAED7DEB6 (action_id), add constraint FK1F17369DAED7DEB6 foreign key (action_id) references action (id);

alter table action_summary add index FK1F17369D7113E39F (join_user_account), add constraint FK1F17369D7113E39F foreign key (join_user_account) references account (account);

alter table album add index FK5897E6FC5C5C60B (creator_account), add constraint FK5897E6FC5C5C60B foreign key (creator_account) references account (account);

alter table album_pic add index FKEE38FBA3F8F7F1E (album_id), add constraint FKEE38FBA3F8F7F1E foreign key (album_id) references album (id);

alter table message add index FK38EB00078CEABCCE (receiver_account), add constraint FK38EB00078CEABCCE foreign key (receiver_account) references account (account);

alter table message add index FK38EB000772A54714 (sender_account), add constraint FK38EB000772A54714 foreign key (sender_account) references account (account);

alter table new add index FK1A9A092ED922C (poster_account), add constraint FK1A9A092ED922C foreign key (poster_account) references account (account);

alter table new_pic add index FK6E00BA6BE2D067E (new_id), add constraint FK6E00BA6BE2D067E foreign key (new_id) references new (id);

alter table note add index FK33AFF292ED922C (poster_account), add constraint FK33AFF292ED922C foreign key (poster_account) references account (account);

alter table role add index FK35807676A48B1E (account), add constraint FK35807676A48B1E foreign key (account) references account (account);

alter table share_link add index FK956A2C5A92ED922C (poster_account), add constraint FK956A2C5A92ED922C foreign key (poster_account) references account (account);

alter table sy_user add index FK9758A60476A48B1E (account), add constraint FK9758A60476A48B1E foreign key (account) references account (account);

alter table sy_user_pic add index FK4EFAE4CF76A48B1E (account), add constraint FK4EFAE4CF76A48B1E foreign key (account) references account (account);